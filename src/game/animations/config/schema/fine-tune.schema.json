{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "https://tetris-game.local/schemas/fine-tune-config.schema.json",
  "title": "FineTuneConfig",
  "description": "Animation timing and easing parameters that require human sensory evaluation and should NOT be modified by AI systems",
  "type": "object",
  "required": ["version", "uiTimings", "performanceBudgets"],
  "additionalProperties": false,
  "properties": {
    "$schema": {
      "type": "string",
      "description": "JSON Schema reference"
    },
    "version": {
      "type": "string",
      "pattern": "^(prototype|v)\\d+\\.\\d+(\\.\\d+)?(-[a-zA-Z0-9]+)?$",
      "description": "Configuration version following semantic versioning",
      "examples": ["prototype-1.0", "v1.0.0", "v1.2.3-beta"]
    },
    "metadata": {
      "type": "object",
      "description": "Configuration metadata and AI prohibition markers",
      "properties": {
        "lastModified": {
          "type": "string",
          "format": "date",
          "description": "Last modification date in YYYY-MM-DD format"
        },
        "description": {
          "type": "string",
          "description": "Human-readable description of configuration purpose"
        },
        "aiProhibited": {
          "type": "boolean",
          "const": true,
          "description": "Marker indicating this configuration requires human judgment"
        }
      }
    },
    "uiTimings": {
      "type": "object",
      "description": "UI animation timing configurations requiring human perception validation",
      "patternProperties": {
        "^[a-zA-Z][a-zA-Z0-9]*$": {
          "type": "object",
          "required": ["duration", "easing"],
          "additionalProperties": false,
          "properties": {
            "duration": {
              "type": "number",
              "minimum": 50,
              "maximum": 3000,
              "description": "Animation duration in milliseconds (50-3000ms for optimal UX)"
            },
            "easing": {
              "type": "string",
              "pattern": "^(linear|ease|ease-in|ease-out|ease-in-out|cubic-bezier\\(\\s*-?\\d*\\.?\\d+\\s*,\\s*-?\\d*\\.?\\d+\\s*,\\s*-?\\d*\\.?\\d+\\s*,\\s*-?\\d*\\.?\\d+\\s*\\))$",
              "description": "CSS easing function or cubic-bezier curve",
              "examples": [
                "ease",
                "ease-in",
                "ease-out",
                "ease-in-out",
                "cubic-bezier(0.4, 0, 0.2, 1)"
              ]
            },
            "cancellable": {
              "type": "boolean",
              "description": "Whether animation can be interrupted by user interaction"
            }
          }
        }
      },
      "additionalProperties": false
    },
    "performanceBudgets": {
      "type": "object",
      "description": "Performance constraints to prevent animation-induced frame drops",
      "required": ["mainThreadBlocking", "layoutThrashing"],
      "additionalProperties": false,
      "properties": {
        "mainThreadBlocking": {
          "type": "number",
          "minimum": 1,
          "maximum": 16,
          "description": "Maximum allowed main thread blocking time in milliseconds"
        },
        "layoutThrashing": {
          "type": "number",
          "minimum": 0,
          "maximum": 10,
          "description": "Maximum allowed layout recalculations per animation frame"
        },
        "maxAnimations": {
          "type": "number",
          "minimum": 1,
          "maximum": 20,
          "description": "Maximum concurrent animations to prevent performance degradation"
        },
        "frameDropThreshold": {
          "type": "number",
          "minimum": 1,
          "maximum": 10,
          "description": "Maximum allowed consecutive frame drops before animation reduction"
        }
      }
    },
    "gameplayFeelParams": {
      "type": "object",
      "description": "Gameplay-specific animation parameters affecting game feel",
      "additionalProperties": false,
      "properties": {
        "pieceDropEasing": {
          "type": "string",
          "pattern": "^(linear|ease|ease-in|ease-out|ease-in-out|cubic-bezier\\(\\s*-?\\d*\\.?\\d+\\s*,\\s*-?\\d*\\.?\\d+\\s*,\\s*-?\\d*\\.?\\d+\\s*,\\s*-?\\d*\\.?\\d+\\s*\\))$",
          "description": "Easing function for piece drop animations"
        },
        "lockDelayFeedback": {
          "type": "object",
          "properties": {
            "duration": {
              "type": "number",
              "minimum": 50,
              "maximum": 500,
              "description": "Lock delay feedback animation duration"
            },
            "intensity": {
              "type": "number",
              "minimum": 0,
              "maximum": 1,
              "description": "Feedback intensity from 0 (subtle) to 1 (pronounced)"
            }
          }
        },
        "softDropAcceleration": {
          "type": "number",
          "minimum": 1,
          "maximum": 5,
          "description": "Acceleration multiplier for soft drop animations"
        },
        "hardDropImpact": {
          "type": "object",
          "properties": {
            "duration": {
              "type": "number",
              "minimum": 50,
              "maximum": 300,
              "description": "Duration of hard drop impact animation"
            },
            "dampening": {
              "type": "number",
              "minimum": 0,
              "maximum": 1,
              "description": "Impact dampening factor (0 = no dampening, 1 = full dampening)"
            }
          }
        }
      }
    },
    "accessibilityOverrides": {
      "type": "object",
      "description": "Accessibility-aware animation modifications",
      "additionalProperties": false,
      "properties": {
        "reduceMotion": {
          "type": "object",
          "description": "Modifications when prefers-reduced-motion is enabled",
          "properties": {
            "durationMultiplier": {
              "type": "number",
              "minimum": 0.1,
              "maximum": 2,
              "description": "Multiplier for animation durations when reducing motion"
            },
            "disableEasing": {
              "type": "boolean",
              "description": "Whether to disable easing functions for reduced motion"
            }
          }
        },
        "highContrast": {
          "type": "object",
          "description": "Modifications for high contrast mode",
          "properties": {
            "emphasisMultiplier": {
              "type": "number",
              "minimum": 1,
              "maximum": 2,
              "description": "Multiplier for animation emphasis in high contrast mode"
            }
          }
        }
      }
    }
  },
  "examples": [
    {
      "version": "prototype-1.0",
      "uiTimings": {
        "buttonHover": {
          "duration": 120,
          "easing": "ease-out",
          "cancellable": true
        }
      },
      "performanceBudgets": {
        "mainThreadBlocking": 4,
        "layoutThrashing": 1
      }
    }
  ]
}
